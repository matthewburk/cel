      <html>
      <head>
        <link rel="stylesheet" type="text/css" href="cel.css" />
      </head>
      <body>
        <div id="navigation">
        <ul class="nav">
  <li><a href="cel.html">cel</a> </li>
  <li><a href="face.html">face</a> </li>
  <li><a href="linker.html">linker</a> </li>
  <li><a href="mouse.html">cel.mouse</a> </li>
  <li><a href="keyboard.html">cel.keyboard</a> </li>
  <li><a href="grip.html">cel.grip</a></li> 
  <li><a href="button.html">cel.button</a></li> 
  <li><a href="textbutton.html">cel.textbutton</a></li> 
  <li><a href="label.html">cel.label</a></li> 
  <li><a href="scroll.html">cel.scroll</a></li> 
  <li><a href="listbox.html">cel.listbox</a></li> 
  <li><a href="window.html">cel.window</a></li> 
  <li><a href="panel.html">cel.panel</a></li> 
  <li><a href="mutexpanel.html">cel.mutexpanel</a></li> 
  <li><a href="text.html">cel.text</a></li> 
  <li><a href="menu.html">cel.menu</a></li> 
  <li><a href="row.html">cel.row</a></li> 
  <li><a href="col.html">cel.col</a></li> 
</ul>

        </div>
        <div id="content">
        <h1>cel.grip<p class="factorydesc">(module)<br><br>Factory for the grip metacel</p></h1>
        Factory for the grip metacel       <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          cel.grip(t)&nbsp;
          <span class="functiondesc">Creates a new grip.</span>
        </h3>
        <div class="functionfulldesc">
        <p>Creates a new grip. <div class="code"><pre><code>cel.grip {</code>
<code>  w = number,</code>
<code>  h = number,</code>
<code>  target = cel,</code>
<code>  mode = string,</code>
<code>  ongrab = function,</code>
<code>  ondrag = function,</code>
<code>  onrelease = function,</code>
<code>}</code></pre></div></p>
                <div class="arguments">
          <span class="arguments">arguments</span>
          <dl class="arguments">          <dt><code><span class="paramname">w</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>width, default is 0.</dd>
                     <dt><code><span class="paramname">h</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>height, default is 0.</dd>
                     <dt><code><span class="paramname">target</span>&nbsp;<span class="paramtype">cel</span></code></dt> 
          <dd>target of grip, see grip:grip()</dd>
                     <dt><code><span class="paramname">mode</span>&nbsp;<span class="paramtype">string</span></code></dt> 
          <dd>mode of grip, see grip:grip()</dd>
                     <dt><code><span class="paramname">ongrab</span>&nbsp;<span class="paramtype">function</span></code></dt> 
          <dd>event callback.</dd>
                     <dt><code><span class="paramname">ondrag</span>&nbsp;<span class="paramtype">function</span></code></dt> 
          <dd>event callback.</dd>
                     <dt><code><span class="paramname">onrelease</span>&nbsp;<span class="paramtype">function</span></code></dt> 
          <dd>event callback.</dd>
          </dl>
        </div>
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>grip</code></dt> 
          <dd>a new grip.</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          cel.grip.new([w[, h[, face]]])&nbsp;
          <span class="functiondesc">Creates a new grip.</span>
        </h3>
        <div class="functionfulldesc">
        <p>Creates a new grip.</p>
                <div class="arguments">
          <span class="arguments">arguments</span>
          <dl class="arguments">          <dt><code><span class="paramname">w</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>width, default is 0.</dd>
                     <dt><code><span class="paramname">h</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>height, default is 0.</dd>
                     <dt><code><span class="paramname">face</span>&nbsp;<span class="paramtype">face</span></code></dt> 
          <dd>face or face name.</dd>
          </dl>
        </div>
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>grip</code></dt> 
          <dd>a new grip.</dd>
          </dl>
          </div>
        
        </div>
      </div>
       <div class="celdef">
      <h1>grip<p class="celdefdesc">(cel)<br><br>A grip is a cel with that can be dragged around by the mouse.</p></h1>
      A grip is a cel with that can be dragged around by the mouse. It can 'grab' another cel
      and typically its host and resize or move it around.
      A grip is activated by the primary mouse button (mouse.buttons.left) When a grip gets a mousedown event it stores the xy coordinate of the event and traps the mouse,
      and then calls the ongrab event When a grip gets a mousemove event while it is grabbed it will first call the
      mode function to move the target then call the ondrag event.  After the mode function and ondrag
      it calls cel.mouse:pick().  This is done to make keep the mouse focus in sync with the dragged cels. When a grip gets a mouseup event while it is grabbed it will call the onrelease event
      and then free the mouse <div class="list">
      A grip intercepts these events.
      <ul>
      <li>mousedown - for mouse.buttons.left only</li><li>mouseup - for mouse.buttons.left only</li>
      </ul>
      </div>       <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          grip:grip(target[, mode])&nbsp;
          <span class="functiondesc">Grips the given cel.</span>
        </h3>
        <div class="functionfulldesc">
        <p>Grips the given cel. When the grip is dragged the gripped cel will be moved.</p>
                <div class="arguments">
          <span class="arguments">arguments</span>
          <dl class="arguments">          <dt><code><span class="paramname">target</span>&nbsp;<span class="paramtype">cel</span></code></dt> 
          <dd>the cel that the grip moves when it is dragged.</dd>
                     <dt><code><span class="paramname">mode</span>&nbsp;<span class="paramtype">string</span></code></dt> 
          <dd>Each mode is the name of a function that takes the same parameters as grip:ondrag().
            The mode function is called just before the ondrag event is called <div class="list">
      The mode can be one of the following and moves the target as shown:
      <ul>
      <li><dt class="key">sync</dt><dd class="value">target:moveby(dx, dy)</dd></li><li><dt class="key">top</dt><dd class="value">target:moveby(0, dy, 0, -dy)</dd></li><li><dt class="key">left</dt><dd class="value">target:moveby(dx, 0, -dx, 0)</dd></li><li><dt class="key">right</dt><dd class="value">target:moveby(0, 0, dx, 0)</dd></li><li><dt class="key">bottom</dt><dd class="value">target:moveby(0, 0, 0, dy)</dd></li><li><dt class="key">bottomright</dt><dd class="value">target:moveby(0, 0, dx, dy)</dd></li><li><dt class="key">topright</dt><dd class="value">target:moveby(0, dy, dx, -dy)</dd></li><li><dt class="key">bottomleft</dt><dd class="value">target:moveby(dx, 0, -dx, dy)</dd></li><li><dt class="key">topleft</dt><dd class="value">target:moveby(dx, dy, -dx, -dy)</dd></li>
      </ul>
      </div></dd>
          </dl>
        </div>
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>grip</code></dt> 
          <dd>self</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          grip:getgrip()&nbsp;
          <span class="functiondesc">Returns the cel the grip is gripping.</span>
        </h3>
        <div class="functionfulldesc">
        <p>Returns the cel the grip is gripping.</p>
        
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>cel</code></dt> 
          <dd>target passed into grip:grip() or nil</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          grip:isgrabbed()&nbsp;
          <span class="functiondesc">Returns true if the grip is grabbed.</span>
        </h3>
        <div class="functionfulldesc">
        <p>Returns true if the grip is grabbed.</p>
        
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>boolean</code></dt> 
          <dd>true if the grip is grabbed.</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div class="eventdef">
        <p class="eventdefheader">event</p>
        <h3 class="eventsig">
          grip:ongrab(x, y)&nbsp;
          <span class="eventdesc">called when any the grip gets a mousedown event for mouse.buttons.left.</span>
        </h3>
        <div class="eventfulldesc">
        <p>called when any the grip gets a mousedown event for mouse.buttons.left.</p>
                <div class="arguments">
          <span class="arguments">arguments</span>
          <dl class="arguments">          <dt><code><span class="paramname">x</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>x param of mousedown event.</dd>
                     <dt><code><span class="paramname">y</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>y param of mousedown event.</dd>
          </dl>
        </div>
        
        </div>
      </div>
             <div class="eventdef">
        <p class="eventdefheader">event</p>
        <h3 class="eventsig">
          grip:ondrag(dx, dy)&nbsp;
          <span class="eventdesc">called when any the grip gets a mousemove event while it is grabbed.</span>
        </h3>
        <div class="eventfulldesc">
        <p>called when any the grip gets a mousemove event while it is grabbed.</p>
                <div class="arguments">
          <span class="arguments">arguments</span>
          <dl class="arguments">          <dt><code><span class="paramname">dx</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>offset of mouse x from the mouse x when grabbed (mousedown.x - mousemove.x) .</dd>
                     <dt><code><span class="paramname">dy</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>offset of mouse y from the mouse y when grabbed (mousedown.y - mousemove.y) .</dd>
          </dl>
        </div>
        
        </div>
      </div>
             <div class="eventdef">
        <p class="eventdefheader">event</p>
        <h3 class="eventsig">
          grip:onrelease()&nbsp;
          <span class="eventdesc">called when the grip gets a mouseup event while it is grabbed.</span>
        </h3>
        <div class="eventfulldesc">
        <p>called when the grip gets a mouseup event while it is grabbed. if mouse:trap() fails after the grip is grabbed then the grip may not get the mouseup event, and
        onrelease will not be called.</p>
        
        
        </div>
      </div>
             <div class="descriptiondef">
        <p class="descriptiondefheader">description</p>
        <h3 class="descriptiondefsig">
          grip&nbsp;
          <span class="descriptiondefdesc"></span>
        </h3>
        <div class="descriptiondeffulldesc">
        <p><div class="code"><pre><code>{</code>
<code>  isgrabbed = boolean,</code>
<code>}</code></pre></div></p>
                <div class="arguments">
          <span class="arguments">entries</span>
          <dl class="arguments">          <dt><code><span class="paramname">isgrabbed</span>&nbsp;<span class="paramtype">boolean</span></code></dt> 
          <dd>true if the grip is grabbed else false</dd>
          </dl>
        </div>
        </div>
      </div>
      
      
      </div>
        </div>
      </body></html>