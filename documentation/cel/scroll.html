      <html>
      <head>
        <link rel="stylesheet" type="text/css" href="cel.css" />
      </head>
      <body>
        <div id="navigation">
        <ul class="nav">
  <li><a href="cel.html">cel</a> </li>
  <li><a href="grip.html">cel.grip</a></li> 
  <li><a href="button.html">cel.button</a></li> 
  <li><a href="textbutton.html">cel.textbutton</a></li> 
  <li><a href="label.html">cel.label</a></li> 
  <li><a href="sequence.html">cel.sequence</a></li> 
  <li><a href="scroll.html">cel.scroll</a></li> 
  <li><a href="listbox.html">cel.listbox</a></li> 
  <li><a href="window.html">cel.window</a></li> 
</ul>

        </div>
        <div id="content">
        <h1>cel.scroll<p class="factorydesc">(module)<br><br>Factory for the scroll metacel.</p></h1>
        Factory for the scroll metacel. <div class="list">
      TODO:
      <ul>
      <li>a nice feature would be if the layout could define additional cels to be included in the scrollbars.
    Maybe by calling a function or just linking cels directly embedded in the layout.  Would probably want
    it to be a function that could return a cel, so a unique instance could be generated for each scroll cel.</li><li>Should scroll generate events when it is scrolled, or the subject changed, etc?  Can't think of a use case
    for this, so leaving it out for now.</li><li>ybar and xbar are not optional in layout, the bars are the value added part of a scroll cel, the rest
    is just a linker</li>
      </ul>
      </div>       <div class="metaceldef">
      <p class="metaceldefheader">metacel</p>
        <h3 class="metaceldefname">
          scroll&nbsp;
          <span class="metaceldefdesc">A scroll is a container cel with vertical and horizontal scrollbars</span>
        </h3>
        <div class="metaceldeffulldesc">
        <p>A scroll is a container cel with vertical and horizontal scrollbars A scroll is composed of a vertical scrollbar, horizontal scrollbar, and a portal.
    The subject is the cel that is controlled by the scrollbars, and is linked to the portal.
    Additional cels can be lined to the portal, but only one will be the subject.
    </p>
        <dl>
                <div class="metacelcomposition">
          <dt class="metacelcomposition">composition</dt>
          <dd>
          <div class="code"><pre><code>[portal] = cel</code>
<code>[xbar] = scroll.bar</code>
<code>[ybar] = scroll.bar</code></pre></div>
                      <div class="arguments">
              <span class="arguments">cels</span>
              <dl class="arguments">          <dt><code><span class="paramname">[portal]</span>&nbsp;<span class="paramtype">cel</span></code></dt> 
          <dd>scroll portal.</dd>
                     <dt><code><span class="paramname">[xbar]</span>&nbsp;<span class="paramtype">scroll.bar</span></code></dt> 
          <dd>horizontal scrollbar.</dd>
                     <dt><code><span class="paramname">[ybar]</span>&nbsp;<span class="paramtype">scroll.bar</span></code></dt> 
          <dd>vertical scrollbar.</dd>
          </dl>
            </div>
          </dd>
        </div>
                <div class="metaceldescription">
          <dt class="metaceldescription">description</dt>
          <dd>
          <div class="code"><pre><code>[portal] = cel,</code>
<code>[xbar] = scroll.bar,</code>
<code>[ybar] = scroll.bar,</code></pre></div>
                      <div class="arguments">
              <span class="arguments">entries</span>
              <dl class="arguments">          <dt><code><span class="paramname">[portal]</span>&nbsp;<span class="paramtype">cel</span></code></dt> 
          <dd>scroll portal.</dd>
                     <dt><code><span class="paramname">[xbar]</span>&nbsp;<span class="paramtype">scroll.bar</span></code></dt> 
          <dd>horizontal scrollbar.</dd>
                     <dt><code><span class="paramname">[ybar]</span>&nbsp;<span class="paramtype">scroll.bar</span></code></dt> 
          <dd>vertical scrollbar.</dd>
          </dl>
            </div>
          </dd>
        </div>
                <div class="metacellayout">
          <dt class="metacellayout">layout</dt>
          <dd>
          A table defining the internal layout of a scroll cel <div class="code"><pre><code>stepsize --number of units to move the subject in a single step</code>
<code>ybar = { --vertical scrollbar</code>
<code>  face --face or facename</code>
<code>  autohide --if true the scrollbar will hide when the portal.h >= subject.h</code>
<code>  size --width of the scrollbar </code>
<code>  track = { </code>
<code>    face --face or facename</code>
<code>    size --width of the track </code>
<code>    link --linker, xval, yval</code>
<code>    slider = {</code>
<code>      face --face or facename</code>
<code>      size --width of the slider</code>
<code>      minsize --minimum height of the slider</code>
<code>    }</code>
<code>  }</code>
<code>  decbutton = {</code>
<code>    face --face or facename;</code>
<code>    size --width and height;</code>
<code>    link --linker, xval, yval;</code>
<code>  }</code>
<code>  incbutton = {</code>
<code>    face --face or facename;</code>
<code>    size --width and height;</code>
<code>    link --linker, xval, yval;</code>
<code>  }</code>
<code>}</code>
<code>xbar = { --horizontal scrollbar</code>
<code>  face --face or facename</code>
<code>  autohide --if true the scrollbar will hide when the portal.w >= subject.w</code>
<code>  size --height of the scrollbar </code>
<code>  track {</code>
<code>    face --face or facename</code>
<code>    size --height of the track</code>
<code>    link --linker, xval, yval</code>
<code>    slider = {</code>
<code>      face --face or facename</code>
<code>      size --height of the slider</code>
<code>      minsize --minimum width of the slider</code>
<code>    }</code>
<code>  }</code>
<code>  decbutton = {</code>
<code>    face --face or facename;</code>
<code>    size --width and height;</code>
<code>    link --linker, xval, yval;</code>
<code>  }</code>
<code>  incbutton = {</code>
<code>    face --face or facename;</code>
<code>    size --width and height;</code>
<code>    link --linker, xval, yval;</code>
<code>  }</code>
<code>}</code></pre></div>
          
          </dd>
        </div>
        </dl>
        </div>
      </div>
             <div class="metaceldef">
      <p class="metaceldefheader">metacel</p>
        <h3 class="metaceldefname">
          scroll.bar&nbsp;
          <span class="metaceldefdesc">A scroll.bar can be horizontal or vertical. It is composed of a increment button, decrement button and 
    track button.  Each of these buttons can be used to scroll the subject of the scroll cel.</span>
        </h3>
        <div class="metaceldeffulldesc">
        <p>A scroll.bar can be horizontal or vertical. It is composed of a increment button, decrement button and 
    track button.  Each of these buttons can be used to scroll the subject of the scroll cel.</p>
        <dl>
                <div class="metacelcomposition">
          <dt class="metacelcomposition">composition</dt>
          <dd>
          <div class="code"><pre><code>[inc] = scroll.bar.inc</code>
<code>[dec] = scroll.bar.dec</code>
<code>[track] = scroll.bar.track</code></pre></div>
                      <div class="arguments">
              <span class="arguments">cels</span>
              <dl class="arguments">          <dt><code><span class="paramname">[inc]</span>&nbsp;<span class="paramtype">scroll.bar.inc</span></code></dt> 
          <dd>increment button.</dd>
                     <dt><code><span class="paramname">[dec]</span>&nbsp;<span class="paramtype">scroll.bar.dec</span></code></dt> 
          <dd>decrement button.</dd>
                     <dt><code><span class="paramname">[track]</span>&nbsp;<span class="paramtype">scroll.bar.track</span></code></dt> 
          <dd>track button.</dd>
          </dl>
            </div>
          </dd>
        </div>
                <div class="metaceldescription">
          <dt class="metaceldescription">description</dt>
          <dd>
          A vertical or horizontal scrollbar. host is not always a scroll description because the scroll metacel can be extended. <div class="code"><pre><code>axis = string,</code>
<code>size = integer,</code>
<code>[inc] = scroll.bar.inc,</code>
<code>[dec] = scroll.bar.dec,</code>
<code>[track] = scroll.bar.track,</code></pre></div>
                      <div class="arguments">
              <span class="arguments">entries</span>
              <dl class="arguments">          <dt><code><span class="paramname">axis</span>&nbsp;<span class="paramtype">string</span></code></dt> 
          <dd>'x' indicates a horizontal scrollbar, 'y' indicates a vertical scrollbar.</dd>
                     <dt><code><span class="paramname">size</span>&nbsp;<span class="paramtype">integer</span></code></dt> 
          <dd>height of the scrollbar for horizontal, width of the scrollbar for vertical.</dd>
                     <dt><code><span class="paramname">[inc]</span>&nbsp;<span class="paramtype">scroll.bar.inc</span></code></dt> 
          <dd>increment button.</dd>
                     <dt><code><span class="paramname">[dec]</span>&nbsp;<span class="paramtype">scroll.bar.dec</span></code></dt> 
          <dd>decrement button.</dd>
                     <dt><code><span class="paramname">[track]</span>&nbsp;<span class="paramtype">scroll.bar.track</span></code></dt> 
          <dd>track button.</dd>
          </dl>
            </div>
          </dd>
        </div>
        
        </dl>
        </div>
      </div>
             <div class="metaceldef">
      <p class="metaceldefheader">metacel</p>
        <h3 class="metaceldefname">
          scroll.bar.track&nbsp;
          <span class="metaceldefdesc">A scroll.bar.track is contains a slider grip.  Clicking on the track, or dragging the slider
    will scroll the scroll cels subject.</span>
        </h3>
        <div class="metaceldeffulldesc">
        <p>A scroll.bar.track is contains a slider grip.  Clicking on the track, or dragging the slider
    will scroll the scroll cels subject.</p>
        <dl>
                <div class="metacelcomposition">
          <dt class="metacelcomposition">composition</dt>
          <dd>
          <div class="code"><pre><code>[slider] = scroll.bar.slider</code></pre></div>
                      <div class="arguments">
              <span class="arguments">cels</span>
              <dl class="arguments">          <dt><code><span class="paramname">[slider]</span>&nbsp;<span class="paramtype">scroll.bar.slider</span></code></dt> 
          <dd>slider grip.</dd>
          </dl>
            </div>
          </dd>
        </div>
                <div class="metaceldescription">
          <dt class="metaceldescription">description</dt>
          <dd>
          A button description. host is a scroll.bar description <div class="code"><pre><code>[slider] = scroll.bar.slider,</code></pre></div>
                      <div class="arguments">
              <span class="arguments">entries</span>
              <dl class="arguments">          <dt><code><span class="paramname">[slider]</span>&nbsp;<span class="paramtype">scroll.bar.slider</span></code></dt> 
          <dd>slider grip.</dd>
          </dl>
            </div>
          </dd>
        </div>
        
        </dl>
        </div>
      </div>
             <div class="metaceldef">
      <p class="metaceldefheader">metacel</p>
        <h3 class="metaceldefname">
          scroll.bar.inc&nbsp;
          <span class="metaceldefdesc"></span>
        </h3>
        <div class="metaceldeffulldesc">
        <p></p>
        <dl>
        
                <div class="metaceldescription">
          <dt class="metaceldescription">description</dt>
          <dd>
          A button description. host is a scroll.bar description
          
          </dd>
        </div>
        
        </dl>
        </div>
      </div>
             <div class="metaceldef">
      <p class="metaceldefheader">metacel</p>
        <h3 class="metaceldefname">
          scroll.bar.dec&nbsp;
          <span class="metaceldefdesc"></span>
        </h3>
        <div class="metaceldeffulldesc">
        <p></p>
        <dl>
        
                <div class="metaceldescription">
          <dt class="metaceldescription">description</dt>
          <dd>
          A button description. host is a scroll.bar description
          
          </dd>
        </div>
        
        </dl>
        </div>
      </div>
             <div class="metaceldef">
      <p class="metaceldefheader">metacel</p>
        <h3 class="metaceldefname">
          scroll.bar.slider&nbsp;
          <span class="metaceldefdesc"></span>
        </h3>
        <div class="metaceldeffulldesc">
        <p></p>
        <dl>
        
                <div class="metaceldescription">
          <dt class="metaceldescription">description</dt>
          <dd>
          A grip description. host is a scroll.bar.track description
          
          </dd>
        </div>
        
        </dl>
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          cel.scroll(t)&nbsp;
          <span class="functiondesc">Creates a new scroll</span>
        </h3>
        <div class="functionfulldesc">
        <p>Creates a new scroll <div class="code"><pre><code>cel.scroll {</code>
<code>  w = number,</code>
<code>  h = number,</code>
<code>  subject = cel,</code>
<code>  subject = {</code>
<code>    [1] = cel,</code>
<code>    fillwidth = boolean,</code>
<code>    fillheight = boolean,</code>
<code>  },</code>
<code>}</code></pre></div></p>
                <div class="arguments">
          <span class="arguments">arguments</span>
          <dl class="arguments">          <dt><code><span class="paramname">w</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>width, default is 0.</dd>
                     <dt><code><span class="paramname">h</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>height, default is 0.</dd>
                     <dt><code><span class="paramname">subject</span>&nbsp;<span class="paramtype">cel</span></code></dt> 
          <dd>the subject.</dd>
                     <dt><code><span class="paramname">subject</span>&nbsp;<span class="paramtype">table</span></code></dt> 
          <dd>This table can be used to define the same options used in scroll:setsubject().       <div class="tabledef">
        <p class="tabledefname"></p>
        <dl class="tabledef">
                    <dt><code><span class="paramname">[1]</span>&nbsp;<span class="paramtype">cel</span></code></dt> 
          <dd>the subject cel.</dd>
                    <dt><code><span class="paramname">fillwidth</span>&nbsp;<span class="paramtype">boolean</span></code></dt> 
          <dd>if true the subject is resized to the width of the scroll portal,
          default is false.</dd>
                    <dt><code><span class="paramname">fillheight</span>&nbsp;<span class="paramtype">boolean</span></code></dt> 
          <dd>if true the subject is resized to the height of the scroll portal, 
          default is false.</dd>
          
        </dl>
      </div></dd>
          </dl>
        </div>
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>scroll</code></dt> 
          <dd>a new scroll.</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          cel.scroll.new([w[, h[, face]]])&nbsp;
          <span class="functiondesc">Creates a new scroll</span>
        </h3>
        <div class="functionfulldesc">
        <p>Creates a new scroll</p>
                <div class="arguments">
          <span class="arguments">arguments</span>
          <dl class="arguments">          <dt><code><span class="paramname">w</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>width, default is 0.</dd>
                     <dt><code><span class="paramname">h</span>&nbsp;<span class="paramtype">number</span></code></dt> 
          <dd>height, default is 0.</dd>
                     <dt><code><span class="paramname">face</span>&nbsp;<span class="paramtype">face</span></code></dt> 
          <dd>face or face name.</dd>
          </dl>
        </div>
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>scroll</code></dt> 
          <dd>a new scroll.</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div class="propertydef">
      <p class="propertydefheader">property</p>
        <h3 class="propertydefname">
          cel.scroll.layout&nbsp;
          <span class="propertydefdesc">A table defining the internal layout of a scroll cel.</span>
        </h3>
        <div class="propertydeffulldesc">
        <p>A table defining the internal layout of a scroll cel. This is the default layout use, define a layout in the face to override.</p>
        </div>
      </div>
       <div class="celdef">
      <h1>scroll<p class="celdefdesc">(cel)<br><br>A scroll is a container cel with vertical and horizontal scrollbars</p></h1>
      A scroll is a container cel with vertical and horizontal scrollbars A scroll contains a subject cel, which is shown in the portal and whose position is controlled by the scroll cel
    functions, or user input.  Important metrics from a scroll cel are minvalue, value and maxvalue.  The minvalue is
    always 0 for x and y axes.  The value for x is -subject.x and for y is -subject.y.  
    The maxvalue fox x is math.max(0, subject.w - portal.w) and for y is math.max(0, subject.h - portal.h).  The value
    as will always be clamped to the min and max values.       <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          scroll:setsubject(subject[, fillwidth[, fillheight]])&nbsp;
          <span class="functiondesc">Replaces current scroll subject.</span>
        </h3>
        <div class="functionfulldesc">
        <p>Replaces current scroll subject.</p>
                <div class="arguments">
          <span class="arguments">arguments</span>
          <dl class="arguments">          <dt><code><span class="paramname">subject</span>&nbsp;<span class="paramtype">cel</span></code></dt> 
          <dd>the cel to link to the scroll portal as the subject.</dd>
                     <dt><code><span class="paramname">fillwidth</span>&nbsp;<span class="paramtype">boolean</span></code></dt> 
          <dd>if true the subject is resized to the portals width.</dd>
                     <dt><code><span class="paramname">fillwidth</span>&nbsp;<span class="paramtype">boolean</span></code></dt> 
          <dd>if true the subject is resized to the portal height.</dd>
          </dl>
        </div>
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>scroll</code></dt> 
          <dd>self</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          scroll:getsubject()&nbsp;
          <span class="functiondesc">Returns the current subject of the scroll cel.</span>
        </h3>
        <div class="functionfulldesc">
        <p>Returns the current subject of the scroll cel.</p>
        
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>cel</code></dt> 
          <dd>The scroll cels subject.</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          scroll:step([x[, y[, mode]]])&nbsp;
          <span class="functiondesc">Scrolls the subject x, y number of lines or pages.</span>
        </h3>
        <div class="functionfulldesc">
        <p>Scrolls the subject x, y number of lines or pages. The size of a line is defined by scroll.stepsize. The size of a page is defined by
      the current width and height of the portal. <div class="code"><pre></pre></div> is called to move the subject.</p>
                <div class="arguments">
          <span class="arguments">arguments</span>
          <dl class="arguments">          <dt><code><span class="paramname">x</span>&nbsp;<span class="paramtype">integer</span></code></dt> 
          <dd>the number of horizontal lines or pages to scroll, defaults to 0</dd>
                     <dt><code><span class="paramname">y</span>&nbsp;<span class="paramtype">integer</span></code></dt> 
          <dd>the number of vertical lines to pages to scroll, defaults to 0</dd>
                     <dt><code><span class="paramname">mode</span>&nbsp;<span class="paramtype">string</span></code></dt> 
          <dd>if 'line' step by line if 'page' step by page, defaults to 'line'.</dd>
          </dl>
        </div>
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>scroll</code></dt> 
          <dd>self</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          scroll:scrollto([x[, y]])&nbsp;
          <span class="functiondesc">Scrolls the subject to x, y.</span>
        </h3>
        <div class="functionfulldesc">
        <p>Scrolls the subject to x, y. The coordinates x,y are a point in the subject, this point will coincide with point 0, 0 of the portal 
      in screen space.</p>
                <div class="arguments">
          <span class="arguments">arguments</span>
          <dl class="arguments">          <dt><code><span class="paramname">x</span>&nbsp;<span class="paramtype">integer</span></code></dt> 
          <dd>the x value of the subject, clamped to (0, max) see getmaxvalues(), defaults to 0</dd>
                     <dt><code><span class="paramname">y</span>&nbsp;<span class="paramtype">integer</span></code></dt> 
          <dd>the y value of the subject, clamped to (0, max) see getmaxvalues(), defaults to 0</dd>
          </dl>
        </div>
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>scroll</code></dt> 
          <dd>self</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          scroll:getvalues()&nbsp;
          <span class="functiondesc">Returns the current x, y values of the subject.</span>
        </h3>
        <div class="functionfulldesc">
        <p>Returns the current x, y values of the subject.</p>
        
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>integer</code></dt> 
          <dd>current x value, which is roughly -subject.x</dd>
                     <dt><code>integer</code></dt> 
          <dd>current y value, which is roughly -subject.y</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          scroll:getmaxvalues()&nbsp;
          <span class="functiondesc">Returns the maximum x, y values for the subject</span>
        </h3>
        <div class="functionfulldesc">
        <p>Returns the maximum x, y values for the subject</p>
        
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>integer</code></dt> 
          <dd>max x value, which is math.max(0, subject.w - portal.w)</dd>
                     <dt><code>integer</code></dt> 
          <dd>max y value, which is math.max(0, subject.h - portal.h)</dd>
          </dl>
          </div>
        
        </div>
      </div>
             <div title="function" class="functiondef">
        <p class="functiondefheader">function</p>
        <h3 class="functionsig">
          scroll:getportalrect()&nbsp;
          <span class="functiondesc">Returns the portal x, y, w, h</span>
        </h3>
        <div class="functionfulldesc">
        <p>Returns the portal x, y, w, h</p>
        
                <div class="returns">
          <span class="returns">returns</span>
          <dl class="returns">          <dt><code>integer</code></dt> 
          <dd>portal.x</dd>
                     <dt><code>integer</code></dt> 
          <dd>portal.y</dd>
                     <dt><code>integer</code></dt> 
          <dd>portal.w</dd>
                     <dt><code>integer</code></dt> 
          <dd>portal.h</dd>
          </dl>
          </div>
        
        </div>
      </div>
      
      
      </div>       <div class="descriptiondef">
        <p class="descriptiondefheader">description</p>
        <h3 class="descriptiondefsig">
          scroll.portal&nbsp;
          <span class="descriptiondefdesc">A cel description.</span>
        </h3>
        <div class="descriptiondeffulldesc">
        <p>A cel description. host is not always a scroll description because the scroll metacel can be extended.</p>
        
        </div>
      </div>
      
        </div>
      </body></html>